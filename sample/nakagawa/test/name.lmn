a{1}.b{4,(4:-9)}.{8}.{n,(n:-k)}/.

a{$p}:-$p.
{$p}:-$p, 7.
{$p}/:-$p, 0.
{k(X),$q[X]}:-k(X),$q[X],2.