multisetrule{
  elem($p), elem($q) :- $p==$q | elem($p).
}.

multiset{$p[],@p}/ :- set{$p[]}.

test({elem(a), elem(b), elem(c), elem(c), elem(b), elem(c)}).
test({elem(a), elem(b), elem(c), elem(c), elem(b), elem(c)}).

test({$s}), multisetrule{@r} :- multisetrule{@r}, multiset{$s,@r}.

