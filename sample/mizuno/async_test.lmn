//※修正済※
//blockingLock 内でタスクの停止を wait していたスレッドが起こされたとき、
//目的のロックが取得できないとそのまま wait し続けるため、
//複数のスレッドが blockingLock しているとデッドロックする問題があった。
//このため、このプログラムを -O -t オプションをつけて実行するとデッドロックしていた。
{
	{
		gen.
		gen@@gen :- {a.
					 in@@a:-b.
					}@"localhost".
	}.
	out@@{{b,$p,@p},@q} :- {{a,$p,@p},@q}.
}.
