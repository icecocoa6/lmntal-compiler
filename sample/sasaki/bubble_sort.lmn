r=sort([3,5,1,4,2]).

% 開始条件
R=sort(X) :- R=bubble(X,[]).
% 終了条件
R=bubble([],[]) :- R='[]'.

% bubbleの第一引数にはリスト内の最小の要素が残り、第二引数にはその他のゴミが放りこまれる。
% こうして得た最小の要素を戻り値(第三引数)に順次アペンドしていく。
R=bubble(L0,G), '.'(X0,[],L0) :-
	R0=bubble(G,[]), '.'(X0,R0,R).
R=bubble(L0,G), '.'(X0,L1,L0), '.'(X1,L2,L1) :-
	X0>=X1 | R=bubble(L1,G0), '.'(X1,L2,L1), '.'(X0,G,G0).
R=bubble(L0,G), '.'(X0,L1,L0), '.'(X1,L2,L1) :-
	X0<X1 | R=bubble(L0,G0), '.'(X0,L1,L0), L1=L2, '.'(X1,G,G0).
