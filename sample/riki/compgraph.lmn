# complete graph
#

complete_graph(X) :- complete_graph(0,X,[]).

complete_graph($p,$q,X) :- $p=:=$q | delete_ref_list(X).
complete_graph($p,$q,X) :- $p=\=$q,$p1=$p+1 | complete_graph($p1,$q,[{+N}|collect_ref_list(N,X)]).

delete_ref_list([]) :- .
delete_ref_list([{$p}|T]) :- delete_ref_list(T), {$p}.

R=collect_ref_list({$p},[]) :- R=[], {$p}.
R=collect_ref_list({$p},[{$q}|T]) :- R=[{$q,+N}|collect_ref_list({$p,+N},T)].

complete_graph(10).
