/*
 * 8-puzzle
 * 2007/06/16(Sat) by okabe
 */

% ÌäÂêÀ¸À®Ëì
{
num(0,c,X1,Y1,c).
num(0,c,X2,c,X1), num(0,c,c,c,X2).
num(0,Y1,c,Y2,c), num(0,Y2,c,c,c).
nums=[1,2,3,4,5,6,7,8].

num(N1,F1,X,Y,F2), num(N2,F3,F4,c,X), num(N3,Y,c,F5,F6) :-
num(N1,F1,X,Y,F2), num(N2,F3,F4,L1,X), num(N3,Y,L2,F5,F6), num(0,L1,c,c,L2).

num(0,X1,X2,X3,X4), nums([H|T]) :- num(H,X1,X2,X3,X4), nums(T).
}.

% Ãµº÷
{nums([]), $p, @p} :- nd.exec({{
  $p.
  up@@
  num(0,L,F1,F2,F3),num(N,F4,F5,L,F6) :-
    num(N,L,F1,F2,F3),num(0,F4,F5,L,F6).
  right@@
  num(0,F1,L,F2,F3),num(N,F4,F5,F6,L) :-
    num(N,F1,L,F2,F3),num(0,F4,F5,F6,L).
  down@@
  num(0,F1,F2,L,F3),num(N,L,F4,F5,F6) :-
    num(N,F1,F2,L,F3),num(0,L,F4,F5,F6).
  left@@
  num(0,F1,F2,F3,L),num(N,F4,L,F5,F6) :-
    num(N,F1,F2,F3,L),num(0,F4,L,F5,F6).
}*}).
