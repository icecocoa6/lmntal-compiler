/* »°³Ñ·ÁÈÇ³Ê»Ò·ÁÀ® (2006/12/21 ²þÄû) */

Start1@@ triangles($n) :- int($n) |  top=create($n).
Start2@@ R=create($n) :- $n > 0 | R=v(nil,nil,create($n-1),nil,nil).
Start3@@ R=create($n) :- $n = 0 | R=end.

Basic1@@
v(V00,nil,N,V03,V04,V05),v(nil,V11,V12,V13,V14,N) :-
  v(V00,L0,N,V03,V04,V05),v(L1,V11,V12,V13,V14,N),v(nil,nil,nil,L1,L0,nil).

Basic2@@
v(V00,V01,nil,N1,V04,V05),v(N1,N2,V12,V13,V14,V15),v(V20,V21,V22,V23,N2,nil) :-
  v(V00,V01,L,N1,V04,V05),v(N1,N2,V12,V13,V14,V15),v(V20,V21,V22,V23,N2,L).

Final1@@
v(nil,V01,V02,nil,nil,top),v(V10,V11,V12,V13,V01,V15),v(V20,V21,V22,V23,V24,V02):-
t(f(V01),f(V02)),          v(V10,V11,V12,V13,V01,V15),v(V20,V21,V22,V23,V24,V02).
Final2@@
v(V00,V01,V02,nil,nil,F),f(F,F1),v(V10,V11,V12,V13,V01,V15):-
e(V00,V01,f(V02),F1),            v(V10,V11,V12,V13,V01,V15).
Final3@@
v(V00,nil,end,nil,nil,F),f(F,F1),v(V10,V11,V12,V00,V14,V15) :-
t(f(V00),F1),                    v(V10,V11,V12,V00,V14,V15).
Final4@@
v(nil,V01,V02,V03,F,nil),f(F,F1),v(V10,V11,V12,V13,V01,V15):-
e(f(V01),V02,V03,F1),            v(V10,V11,V12,V13,V01,V15).
Final5@@
v(V00,nil,nil,F,V04,V05),f(F,F1),v(V10,V11,V12,V00,V14,V15):-
e(f(V00),F1,V04,V05),            v(V10,V11,V12,V00,V14,V15).
Final6@@
v(nil,nil,nil,F1,F2,nil),f(F1,F11),f(F2,F21):-
t(F11,F21).


triangles(15).