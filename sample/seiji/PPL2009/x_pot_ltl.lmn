p(0, 0).

p(X, Y) :- X<700 | p(700, Y).
p(X, Y) :- Y<500 | p(X, 500).
p(X, Y) :- X>0 | p(0, Y).
p(X, Y) :- Y>0 | p(X, 0).
p(X, Y) :- 
   X>0, Y<500, X2=X-(500-Y), X2>0 | p(X2,500).
p(X, Y) :- X>0, Y<500, Y2=X+Y, Y2=<500 | p(0,Y2). 
p(X, Y) :- 
   Y>0, X<700, Y2=Y-(700-X), Y2>0 | p(700,Y2).
p(X, Y) :- Y>0, X<700, X2=X+Y, X2=<700 | p(X2,0). 

p(X, Y) :- X=:=400,int(Y) | ok{p(X, Y)}.
p(X, Y) :- int(X),Y=:=400 | ok{p(X, Y)}.