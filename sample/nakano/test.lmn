graphic.use.
go :-
{window, name("LMNtal Typing"), size(100,100), killer, bgcolor(255,255,255).
{draw, getpic(string("íµÇÀÇÈëã",25)), position(0,25), color(0,0,0) }. 
position(100,100).
vx(5).
vy(5).
s(1).
%%ë“Çøéûä‘[ms]
waittime(5000).
%%éûä‘ê∂ê¨
nowtime(timer:getinttime),oldtime(timer:getinttime).

waittime(_IW),nowtime(_INOWT),oldtime(_IOLDT):- _INOWT - _IOLDT =< _IW | waittime(_IW),nowtime(timer:getinttime), oldtime(_IOLDT).
waittime(_IW),nowtime(_INOWT),oldtime(_IOLDT):- _INOWT - _IOLDT > _IW | waittime(_IW),nowtime(timer:getinttime), resize.

resize, size(_IX, _IY), s(_IS) :- _IX < 150 , _IX > 10 | size(_IX + _IS, _IY + _IS), s(_IS),oldtime(timer:getinttime).
size(_IX, _IY), s(_IS) :- _IX =< 10 | size(_IX - _IS, _IY - _IS), s(-_IS).
size(_IX, _IY), s(_IS) :- _IX >= 150 | size(_IX - _IS, _IY - _IS), s(-_IS).

move, position(X,Y),vx(VX),vy(VY) :-  VX > 0 , VY > 0 , X < 1000 ,Y < 1000 | position( X + VX, Y + VY),vx(VX),vy(VY),oldtime(timer:getinttime).
move, position(X,Y),vx(VX),vy(VY) :-  VX < 0 , VY > 0 , X > 60 ,Y < 1000  | position( X + VX, Y + VY),vx(VX),vy(VY),oldtime(timer:getinttime).
move, position(X,Y),vx(VX),vy(VY) :-  VX > 0 , VY < 0 , X < 1000 , Y > 60 | position( X + VX, Y + VY),vx(VX),vy(VY),oldtime(timer:getinttime).
move, position(X,Y),vx(VX),vy(VY) :-  VX < 0 , VY < 0 , X > 60 , Y > 60  | position( X + VX, Y + VY),vx(VX),vy(VY),oldtime(timer:getinttime).

position(X,Y),vx(VX) :-  VX > 0 , X >= 1000, int(Y) | position( X , Y ),vx(-1 * integer.rnd(15) - 1).
position(X,Y),vx(VX) :-  VX < 0 , X =< 60, int(Y)  | position( X , Y ),vx(integer.rnd(15) + 1).
position(X,Y),vy(VY) :-  VY > 0 , Y >= 1000, int(X) | position( X , Y ),vy(-1 * integer.rnd(15) - 1).
position(X,Y),vy(VY) :-  VY < 0 , Y =< 60, int(X)  | position( X , Y ),vy(integer.rnd(15) + 1).
}