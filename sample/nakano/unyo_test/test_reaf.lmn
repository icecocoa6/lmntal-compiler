 {
  step(0).
  m(A1),
  n(A1,A2,B),m(B,0),
  n(A2).
  
  step(N), n(X,Y,Z), m(Z,M) :- int(N),N==M, NN=N+1 | 
   step(N),
   n(X,Y,Z),
   n(Z,A2),
   n(A2,A3,B1),m(B1,NN),
   n(A3,A4,B2),m(B2,NN),
   n(A4,A5,B3),m(B3,NN),
   n(A5,A6,B4),m(B4,NN),
   n(A6,A7,B5),m(B5,NN),
   n(A7,A8,B6),m(B6,NN),
   n(A8,A9,B7),m(B7,NN),
   n(A9,A10,B8),m(B8,NN),
   m(A10). 
 }. 
 
 {step(N), $p, @p}/ :- int(N), NN=N+1,N<2 | {step(NN), $p, @p}.