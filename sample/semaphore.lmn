//Semaphore example

//Make new semaphore
call(sem, sem.new, sem1).
{
	call(sem, sem.up,    sem1).
	allowed(sem1) :- io.print([[Critical A 1]]), allowed1(sem1).
	allowed1(sem1) :- io.print([[Critical A 2]]), call(sem, sem.down,  sem1).
}.
{
	call(sem, sem.up,    sem1).
	allowed(sem1) :- io.print([[Critical B 1]]), allowed1(sem1).
	allowed1(sem1) :- io.print([[Critical B 2]]), call(sem, sem.down,  sem1).
}.

